{"ast":null,"code":"import _classCallCheck from\"/Users/sema66/Desktop/react-mesto-api-full-gha-1/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/sema66/Desktop/react-mesto-api-full-gha-1/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Auth=/*#__PURE__*/function(){function Auth(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Auth);this._baseUrl=baseUrl;this._headers=headers;}_createClass(Auth,[{key:\"_getResponseData\",value:function _getResponseData(res){if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}return res.json();}},{key:\"register\",value:function register(newUserData){return fetch(\"\".concat(this._baseUrl,\"/signup\"),{method:\"POST\",headers:this._headers,body:JSON.stringify({email:newUserData.email,password:newUserData.password})}).then(this._getResponseData);}},{key:\"login\",value:function login(userData){return fetch(\"\".concat(this._baseUrl,\"/signin\"),{method:\"POST\",headers:this._headers,body:JSON.stringify({email:userData.email,password:userData.password})}).then(this._getResponseData);}},{key:\"checkToken\",value:function checkToken(jwt){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",authorization:\"Bearer \".concat(jwt)}}).then(this._getResponseData);}}]);return Auth;}();var auth=new Auth({//baseUrl: \"http://localhost:3000\",\nbaseUrl:\"https://api.domainname.vpanacheva.nomoreparties.co\",headers:{\"Content-Type\":\"application/json\"}});export{auth};","map":{"version":3,"names":["Auth","_ref","baseUrl","headers","_classCallCheck","_baseUrl","_headers","_createClass","key","value","_getResponseData","res","ok","Promise","reject","concat","status","json","register","newUserData","fetch","method","body","JSON","stringify","email","password","then","login","userData","checkToken","jwt","authorization","auth"],"sources":["/Users/sema66/Desktop/react-mesto-api-full-gha-1/frontend/src/utils/Auth.js"],"sourcesContent":["class Auth {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl\n    this._headers = headers\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`)\n    }\n    return res.json()\n  }\n\n  register(newUserData) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        email: newUserData.email,\n        password: newUserData.password,\n      }),\n    }).then(this._getResponseData)\n  }\n\n  login(userData) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        email: userData.email,\n        password: userData.password,\n      }),\n    }).then(this._getResponseData)\n  }\n\n  checkToken(jwt) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${jwt}`,\n      },\n    }).then(this._getResponseData)\n  }\n}\n\nconst auth = new Auth({\n  //baseUrl: \"http://localhost:3000\",\n baseUrl: \"https://api.domainname.vpanacheva.nomoreparties.co\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n})\n\nexport { auth }\n"],"mappings":"+RAAM,CAAAA,IAAI,yBACR,SAAAA,KAAAC,IAAA,CAAkC,IAApB,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAAC,eAAA,MAAAJ,IAAA,EAC5B,IAAI,CAACK,QAAQ,CAAGH,OAAO,CACvB,IAAI,CAACI,QAAQ,CAAGH,OAAO,CACzB,CAACI,YAAA,CAAAP,IAAA,GAAAQ,GAAA,oBAAAC,KAAA,CAED,SAAAC,iBAAiBC,GAAG,CAAE,CACpB,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,CACX,MAAO,CAAAC,OAAO,CAACC,MAAM,0CAAAC,MAAA,CAAYJ,GAAG,CAACK,MAAM,CAAE,CAAC,CAChD,CACA,MAAO,CAAAL,GAAG,CAACM,IAAI,CAAC,CAAC,CACnB,CAAC,GAAAT,GAAA,YAAAC,KAAA,CAED,SAAAS,SAASC,WAAW,CAAE,CACpB,MAAO,CAAAC,KAAK,IAAAL,MAAA,CAAI,IAAI,CAACV,QAAQ,YAAW,CACtCgB,MAAM,CAAE,MAAM,CACdlB,OAAO,CAAE,IAAI,CAACG,QAAQ,CACtBgB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,KAAK,CAAEN,WAAW,CAACM,KAAK,CACxBC,QAAQ,CAAEP,WAAW,CAACO,QACxB,CAAC,CACH,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAACjB,gBAAgB,CAAC,CAChC,CAAC,GAAAF,GAAA,SAAAC,KAAA,CAED,SAAAmB,MAAMC,QAAQ,CAAE,CACd,MAAO,CAAAT,KAAK,IAAAL,MAAA,CAAI,IAAI,CAACV,QAAQ,YAAW,CACtCgB,MAAM,CAAE,MAAM,CACdlB,OAAO,CAAE,IAAI,CAACG,QAAQ,CACtBgB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,KAAK,CAAEI,QAAQ,CAACJ,KAAK,CACrBC,QAAQ,CAAEG,QAAQ,CAACH,QACrB,CAAC,CACH,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAACjB,gBAAgB,CAAC,CAChC,CAAC,GAAAF,GAAA,cAAAC,KAAA,CAED,SAAAqB,WAAWC,GAAG,CAAE,CACd,MAAO,CAAAX,KAAK,IAAAL,MAAA,CAAI,IAAI,CAACV,QAAQ,cAAa,CACxCgB,MAAM,CAAE,KAAK,CACblB,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC6B,aAAa,WAAAjB,MAAA,CAAYgB,GAAG,CAC9B,CACF,CAAC,CAAC,CAACJ,IAAI,CAAC,IAAI,CAACjB,gBAAgB,CAAC,CAChC,CAAC,WAAAV,IAAA,KAGH,GAAM,CAAAiC,IAAI,CAAG,GAAI,CAAAjC,IAAI,CAAC,CACpB;AACDE,OAAO,CAAE,oDAAoD,CAC5DC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,OAAS8B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}