{"ast":null,"code":"import _slicedToArray from\"/Users/sema66/Desktop/react-mesto-api-full-gha-1/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext.js';import{PopupWithForm}from'./PopupWithForm.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,isLoading=_ref.isLoading;/** TODO: добавить ux, добавить закрытие оверлеем */ /** подписка на контекст */var currentUser=useContext(CurrentUserContext);/** стейт для пользователя */var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];/** стейт для пользователя */var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];useEffect(function(){setName(currentUser.name);/** после загрузки текушего пользователя из апи его данные будут использованыв управляемых компонентах */setDescription(currentUser.about);},[currentUser,isOpen]);function handleEditName(e){setName(e.target.value);}function handleEditDescription(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();/** передаем значение управляемых компонентов во внешний обработчик */onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsx(PopupWithForm,{name:\"popup-profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",text:isLoading?'Сохраненяем...':'Сохранить',isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"form__input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"username-input\",className:\"form__item form__item_user_name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:2,maxLength:40,required:true,onChange:handleEditName,value:name||''}),/*#__PURE__*/_jsx(\"span\",{className:\"form__item-error username-input-error\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"about\",id:\"job-input\",className:\"form__item form__item_user_job\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",minLength:2,maxLength:200,required:true,onChange:handleEditDescription,value:description||''}),/*#__PURE__*/_jsx(\"span\",{className:\"form__item-error job-input-error\"})]})});}export{EditProfilePopup};","map":{"version":3,"names":["React","useState","useContext","useEffect","CurrentUserContext","PopupWithForm","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","isLoading","currentUser","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","description","setDescription","about","handleEditName","e","target","value","handleEditDescription","handleSubmit","preventDefault","title","text","onSubmit","children","className","type","id","placeholder","minLength","maxLength","required","onChange"],"sources":["/Users/sema66/Desktop/react-mesto-api-full-gha-1/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { PopupWithForm } from './PopupWithForm.js';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) { /** TODO: добавить ux, добавить закрытие оверлеем */\n  /** подписка на контекст */\n  const currentUser = useContext(CurrentUserContext);\n\n  /** стейт для пользователя */\n  const [name, setName] = useState('');\n\n  /** стейт для пользователя */\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    setName(currentUser.name); /** после загрузки текушего пользователя из апи его данные будут использованыв управляемых компонентах */\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  function handleEditName(e) {\n    setName(e.target.value);\n  }\n\n  function handleEditDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    /** передаем значение управляемых компонентов во внешний обработчик */\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name='popup-profile'\n      title='Редактировать профиль'\n      text={isLoading? 'Сохраненяем...' : 'Сохранить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className='form__input-container'>\n        <input\n          type='text'\n          name='name'\n          id='username-input'\n          className='form__item form__item_user_name'\n          placeholder='Имя'\n          minLength={2}\n          maxLength={40}\n          required\n          onChange={handleEditName}\n          value={name || ''}\n        />\n        <span className='form__item-error username-input-error' />\n        <input\n          type='text'\n          name='about'\n          id='job-input'\n          className='form__item form__item_user_job'\n          placeholder='О себе'\n          minLength={2}\n          maxLength={200}\n          required\n          onChange={handleEditDescription}\n          value={description || ''}\n        />\n        <span className='form__item-error job-input-error' />\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport { EditProfilePopup };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}