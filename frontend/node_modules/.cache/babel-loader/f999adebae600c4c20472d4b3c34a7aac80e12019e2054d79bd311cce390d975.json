{"ast":null,"code":"import React,{useContext}from\"react\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){var _card$owner;var card=_ref.card,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onCardDeleteClick=_ref.onCardDeleteClick;/** подписка на котекст */var currentUser=useContext(CurrentUserContext);/** определяем, является ли пользователь владельцем текущей карточки */var isOwn=(((_card$owner=card.owner)===null||_card$owner===void 0?void 0:_card$owner._id)||card.owner)===currentUser._id;/** Создаём переменную, которую после зададим в `className` для кнопки удаления */var cardDeleteButtonClass=\"card__trash \".concat(isOwn&&\"card__trash_active\");/** Определяем, есть ли у карточки лайк, поставленный текущим пользователем */var isLiked=card.likes.some(function(i){return i===currentUser._id;});/** Создаём переменную, которую после зададим в `className` для кнопки лайка */var cardLikeButtonClassName=\"card__like \".concat(isLiked&&\"card__like_active\");function handleClick(){onCardClick(card);}function handleLikeClick(){onCardLike(card);}function handleDeleteClick(){onCardDeleteClick(card);}return/*#__PURE__*/_jsxs(\"article\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card__image\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"card__pic\",src:card.link,alt:card.name,onClick:handleClick}),isOwn&&/*#__PURE__*/_jsx(\"button\",{/** используем переменную для условного рендеринга в разметке */className:cardDeleteButtonClass,type:\"button\",\"aria-label\":\"\\u0417\\u043D\\u0430\\u0447\\u043E\\u043A \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u044F \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0438\",onClick:handleDeleteClick})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__description\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card__name\",children:card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__like-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardLikeButtonClassName,type:\"button\",\"aria-label\":\"\\u0417\\u043D\\u0430\\u0447\\u043E\\u043A \\u043B\\u0430\\u0439\\u043A\",onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"span\",{className:\"card__like-number\",children:card.likes.length})]})]})]});}export{Card};","map":{"version":3,"names":["React","useContext","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","Card","_ref","_card$owner","card","onCardClick","onCardLike","onCardDeleteClick","currentUser","isOwn","owner","_id","cardDeleteButtonClass","concat","isLiked","likes","some","i","cardLikeButtonClassName","handleClick","handleLikeClick","handleDeleteClick","className","children","src","link","alt","name","onClick","type","length"],"sources":["/Users/sema66/Desktop/react-mesto-api-full-gha-1/frontend/src/components/Card.js"],"sourcesContent":["import React, { useContext } from \"react\"\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\"\n\nfunction Card({ card, onCardClick, onCardLike, onCardDeleteClick }) {\n  /** подписка на котекст */\n  const currentUser = useContext(CurrentUserContext)\n\n  /** определяем, является ли пользователь владельцем текущей карточки */\n  const isOwn = (card.owner?._id || card.owner) === currentUser._id\n\n  /** Создаём переменную, которую после зададим в `className` для кнопки удаления */\n  const cardDeleteButtonClass = `card__trash ${isOwn && \"card__trash_active\"}`\n\n  /** Определяем, есть ли у карточки лайк, поставленный текущим пользователем */\n  const isLiked = card.likes.some((i) => i === currentUser._id)\n\n  /** Создаём переменную, которую после зададим в `className` для кнопки лайка */\n  const cardLikeButtonClassName = `card__like ${isLiked && \"card__like_active\"}`\n\n  function handleClick() {\n    onCardClick(card)\n  }\n\n  function handleLikeClick() {\n    onCardLike(card)\n  }\n\n  function handleDeleteClick() {\n    onCardDeleteClick(card)\n  }\n\n  return (\n    <article className=\"card\">\n      <div className=\"card__image\">\n        <img\n          className=\"card__pic\"\n          src={card.link}\n          alt={card.name}\n          onClick={handleClick}\n        />\n        {isOwn && (\n          <button /** используем переменную для условного рендеринга в разметке */\n            className={cardDeleteButtonClass}\n            type=\"button\"\n            aria-label=\"Значок удаления карточки\"\n            onClick={handleDeleteClick}\n          />\n        )}\n      </div>\n      <div className=\"card__description\">\n        <h2 className=\"card__name\">{card.name}</h2>\n        <div className=\"card__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            aria-label=\"Значок лайк\"\n            onClick={handleLikeClick}\n          />\n          <span className=\"card__like-number\">{card.likes.length}</span>\n        </div>\n      </div>\n    </article>\n  )\n}\n\nexport { Card }\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,OAASC,kBAAkB,KAAQ,gCAAgC,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnE,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAuD,KAAAC,WAAA,IAApD,CAAAC,IAAI,CAAAF,IAAA,CAAJE,IAAI,CAAEC,WAAW,CAAAH,IAAA,CAAXG,WAAW,CAAEC,UAAU,CAAAJ,IAAA,CAAVI,UAAU,CAAEC,iBAAiB,CAAAL,IAAA,CAAjBK,iBAAiB,CAC9D,0BACA,GAAM,CAAAC,WAAW,CAAGb,UAAU,CAACC,kBAAkB,CAAC,CAElD,uEACA,GAAM,CAAAa,KAAK,CAAG,CAAC,EAAAN,WAAA,CAAAC,IAAI,CAACM,KAAK,UAAAP,WAAA,iBAAVA,WAAA,CAAYQ,GAAG,GAAIP,IAAI,CAACM,KAAK,IAAMF,WAAW,CAACG,GAAG,CAEjE,kFACA,GAAM,CAAAC,qBAAqB,gBAAAC,MAAA,CAAkBJ,KAAK,EAAI,oBAAoB,CAAE,CAE5E,8EACA,GAAM,CAAAK,OAAO,CAAGV,IAAI,CAACW,KAAK,CAACC,IAAI,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,GAAKT,WAAW,CAACG,GAAG,GAAC,CAE7D,+EACA,GAAM,CAAAO,uBAAuB,eAAAL,MAAA,CAAiBC,OAAO,EAAI,mBAAmB,CAAE,CAE9E,QAAS,CAAAK,WAAWA,CAAA,CAAG,CACrBd,WAAW,CAACD,IAAI,CAAC,CACnB,CAEA,QAAS,CAAAgB,eAAeA,CAAA,CAAG,CACzBd,UAAU,CAACF,IAAI,CAAC,CAClB,CAEA,QAAS,CAAAiB,iBAAiBA,CAAA,CAAG,CAC3Bd,iBAAiB,CAACH,IAAI,CAAC,CACzB,CAEA,mBACEJ,KAAA,YAASsB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACvBvB,KAAA,QAAKsB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BzB,IAAA,QACEwB,SAAS,CAAC,WAAW,CACrBE,GAAG,CAAEpB,IAAI,CAACqB,IAAK,CACfC,GAAG,CAAEtB,IAAI,CAACuB,IAAK,CACfC,OAAO,CAAET,WAAY,CACtB,CAAC,CACDV,KAAK,eACJX,IAAA,WAAQ,gEACNwB,SAAS,CAAEV,qBAAsB,CACjCiB,IAAI,CAAC,QAAQ,CACb,aAAW,wIAA0B,CACrCD,OAAO,CAAEP,iBAAkB,CAC5B,CACF,EACE,CAAC,cACNrB,KAAA,QAAKsB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCzB,IAAA,OAAIwB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEnB,IAAI,CAACuB,IAAI,CAAK,CAAC,cAC3C3B,KAAA,QAAKsB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCzB,IAAA,WACEwB,SAAS,CAAEJ,uBAAwB,CACnCW,IAAI,CAAC,QAAQ,CACb,aAAW,+DAAa,CACxBD,OAAO,CAAER,eAAgB,CAC1B,CAAC,cACFtB,IAAA,SAAMwB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEnB,IAAI,CAACW,KAAK,CAACe,MAAM,CAAO,CAAC,EAC3D,CAAC,EACH,CAAC,EACC,CAAC,CAEd,CAEA,OAAS7B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}